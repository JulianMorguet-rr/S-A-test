@import 'variables.scss';

/**
 * View-Transition 
 */

    ::view-transition-old(root) {
        animation-name: transition-out;
        animation-duration: 0.3s;
        // animation-delay: 0s;
        animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);
    }
  
    ::view-transition-new(root) {
        animation-name: transition-in;
        // animation-duration: 5.33s;
        // animation-delay: 0s;
        animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);
    }
  
    @keyframes transition-out {
        from {
            opacity: 1;
        }
        to {
            opacity: 0;
        }
    }
    
    @keyframes transition-in {
        from {
            opacity: 0;
        }
            to {
            opacity: 1;
        }
    }


    // ::view-transition-old(header),
    // ::view-transition-new(header) {
    //     /* Prevent the default animation,
    //     so both views remain opacity:1 throughout the transition */
    //     animation: none;
    // }

    


    .image-transition {
        mix-blend-mode: normal;
    }

    
    // ::view-transition-old(*) {
    //     animation-duration: 0.66s;
    //     animation-delay: 0s;
    //     animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);
    // }
  
    // ::view-transition-new(*) {
    //     animation-duration: 0.66s;
    //     animation-delay: 0s;
    //     animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);
    // }



/**
 * View-Transition fade in and out for exit and enter
 */

 /*
::view-transition-old(*):only-child {
    animation: 0.66s scale-out 0s ease;
}

::view-transition-new(*):only-child {
    animation: 0.66s scale-in 0s ease;
}

@keyframes scale-out {
    from {
    opacity: 1;
    scale: 1;
    // rotate: 360deg;
    }
    to {
    opacity: 0;
    scale: 0.5;
    //   translate: -3rem -5rem;
    //   rotate: -10deg;
    }
}

@keyframes scale-in {
    from {
    opacity: 0;
    scale: 0.5;
    //   translate: 3rem 5rem;
    //   rotate: -10deg;
    }
    to {
    opacity: 1;
    scale: 1;
    // rotate: 360deg;
    }
}
*/

/*** Post Wrapper ***/
/*
::view-transition-old(${postWrapperTransitionName}),
::view-transition-new(${postWrapperTransitionName}) {
    animation: fade-to-transparent;
    animation-duration: 0.3s;
    mix-blend-mode: normal;
    border-radius: 0rem;
    // box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1), 0px 8px 24px rgba(0, 0, 0, 0.1) 
}
*/

// @keyframes fade-to-transparent {
//     from { 
//         z-index: 9999999;
//         opacity: 1;
//         border-radius: 0rem;
//         /* box-shadow: 0px 0px 0px rgba(0, 0, 0, 0), 0px 0px 0px rgba(0, 0, 0, 0); */
//     }
//     to { 
//         z-index: 9999999;
//         opacity: 1;
//         border-radius: 0.5rem;
//         /* box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.1), 0px 8px 24px rgba(0, 0, 0, 0.1) */
//     }
// }



// /*** Post Image ***/ 
// ::view-transition-old(${postImageTransitionName}),
// ::view-transition-new(${postImageTransitionName}) {
//     animation: initial;
//     animation-duration: 0.3s;
//     mix-blend-mode: normal;
//     height: 100%;
//     overflow: clip;
// }

// /* The old view is the thumbnail */
// ::view-transition-old(${postImageTransitionName}) {
//     object-fit: contain;
// }

// /* The new view is the full image */
// ::view-transition-new(${postImageTransitionName}) {
//     object-fit: cover;
// }




/*** Post Title ***/ 

// ::view-transition-old(${postTitleTransitionName}),
// ::view-transition-new(${postTitleTransitionName}) {
//     animation-name: transformation;
//     animation-duration: 0.3s;
//     // animation-delay: 0s;
//     animation-timing-function: cubic-bezier(0.25, 0.1, 0.25, 1);
// }

// ::view-transition-old(${postCategoryTransitionName}),
// ::view-transition-new(${postCategoryTransitionName}) {
//     width: fit-content;
// }

/*
    animation: none;
    mix-blend-mode: normal;
    height: 100%;
    overflow: clip;
    object-fit: cover;
*/




/*** Handling Only Child ***/ 

// ::view-transition-old(${postWrapperTransitionName}):only-child,
// ::view-transition-new(${postWrapperTransitionName}):only-child,
// ::view-transition-old(${postImageTransitionName}):only-child,
// ::view-transition-new(${postImageTransitionName}):only-child,
// ::view-transition-old(${postCategoryTransitionName}):only-child,
// ::view-transition-new(${postCategoryTransitionName}):only-child,
// ::view-transition-old(${postTitleTransitionName}):only-child,
// ::view-transition-new(${postTitleTransitionName}):only-child,
// {
//     animation: postWrapperFadeIn;
//     animation-duration: 0.6s;
//     animation-delay: 0.3s;
// }





@keyframes initial {
    from { 
        opacity: 1;
    }
}

@keyframes transformation {
    from { 
        opacity: 1;
    }
}

@keyframes r-in {
    from { 
        mix-blend-mode: normal;
        rotate: 360deg;
    }
}


@keyframes slide-from-right {
    from { transform: translateX(30px); }
}

@keyframes slide-to-left {
    to { transform: translateX(-30px); }
}



@keyframes scale-out {
    from {
        opacity: 1;
        scale: 1;
        // rotate: 360deg;
    }
    to {
        opacity: 0;
        scale: 0.5;
        //   translate: -3rem -5rem;
        //   rotate: -10deg;
    }
}

@keyframes scale-in {
    from {
        opacity: 0;
        scale: 0.5;
        //   translate: 3rem 5rem;
        //   rotate: -10deg;
    }
    to {
        opacity: 1;
        scale: 1;
        // rotate: 360deg;
    }
}

/**
* View-Transition for post title
*/

.text-transition::view-transition-old(*),
.text-transition::view-transition-new(*) {
    animation-duration: 3s;
    animation-name: rotate-in-out;
    inline-size: none;
    block-size: none;
}

.text-transition::view-transition-old(postImageTransitionName) {
    animation-duration: 3s;
    animation: none;
    inline-size: none;
    block-size: none;
}

.text-transition::view-transition-new(postImageTransitionName) {
    animation-duration: 3s;
    animation: none;
    inline-size: none;
    block-size: none;
}

@keyframes rotate-in-out {
    from {
        rotate: 0deg;
    }
    to {
        rotate: 360deg;
    }
}




/* Aminated Text Gradient */

.animated-gradient-text {
    font-weight: bold;
    margin: 5px;
    background: linear-gradient(
        45deg,
        $base-color 20%,
        $Secondary-color 40%,
        $base-color 60%,
    );
    -webkit-background-clip: text;
    background-clip: text;
    -webkit-text-fill-color: transparent;
    text-fill-color: transparent;
    background-size: 500% auto;
    animation: textShine 5s ease-in-out infinite alternate;
  }
  

/* Keyframes fÃ¼r die Textfarb-Animation */
@keyframes textShine {
    0% {
      background-position: 0% 0%;
    }
    100% {
      background-position: 100% 100%;
    }
  }
  


/**
 * IntersectionObserver
 */


@media screen and (min-width: 999px) {

        section > div:not(.disable-scroll-into-view-animation) .section-tagline, 
        section > div:not(.disable-scroll-into-view-animation) .section-animation-1 {
            opacity: 0;
            transform: translate(0, 6rem);
            transition: all 1s;
        }
        section.observer-detected > div:not(.disable-scroll-into-view-animation) .section-tagline, 
        section.observer-detected > div:not(.disable-scroll-into-view-animation) .section-animation-1 {
            opacity: 1;
            transform: translate(0, 0);
        }


        /* ".section-heading" or ".section-animation-2" = 0.1s delay */
        section > div:not(.disable-scroll-into-view-animation) .section-heading, 
        section > div:not(.disable-scroll-into-view-animation) .section-animation-2 {
            opacity: 0;
            transform: translate(0, 6rem);
            // animation: fadeInFromBottom 0.9s 0.1s cubic-bezier(0,.29,.5,1);
            // animation-fill-mode: forwards;
            // animation-play-state: paused;

            transition: opacity 1s 0.1s, transform 1s 0.1s;
        }

        section.observer-detected > div:not(.disable-scroll-into-view-animation) .section-heading, 
        section.observer-detected > div:not(.disable-scroll-into-view-animation) .section-animation-2 {
            // animation-play-state: running;
            opacity: 1;
            transform: translate(0, 0);
        }

        section > div:not(.disable-scroll-into-view-animation) .section-block-content {
            opacity: 0;
            transform: translate(0, 6rem);
            transition: opacity 1s 0.2s, transform 1s 0.2s;
        }

        section.observer-detected > div:not(.disable-scroll-into-view-animation) .section-block-content {
            // animation-play-state: running;

            opacity: 1;
            transform: translate(0, 0);

            transition: opacity 1s 0.2s, transform 1s 0.2s;
        }


        .section-cta {
            opacity: 0;
            transform: translate(0, 6rem);
            // animation: fadeInFromBottom 0.7s 0.3s cubic-bezier(0,.29,.5,1);
            // animation-fill-mode: forwards;
            // animation-play-state: paused;

            transition: all 1s 0.3s;
        }

        section.observer-detected .section-cta {
            // animation-play-state: running;

            opacity: 1;
            transform: translate(0, 0);
        }

        // @keyframes fadeInFromBottom {
        //     to {
        //         opacity: 1;
        //         transform: translate(0, 0);
        //     }
        // }


        section > div:not(.disable-scroll-into-view-animation) .section-asset {
            // clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
            // clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
            opacity: 0;
            transform: translate(0, 6rem);
            // clip-path: polygon(0 10%, 100% 10%, 100% 90%, 0 90%);
            clip-path: polygon(10% 10%, 90% 10%, 90% 90%, 10% 90%);
            transition: all 1s;

            img {
                scale: 1.1;
                transition: all 1s;
            }
        }

        section.observer-detected .section-asset {
            // clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            opacity: 1;
            transform: translate(0, 0);
            clip-path: polygon(0 0, 100% 0, 100% 100%, 0% 100%);

            img {
                scale: 1;
                transition: all 1s 0.3s;
            }
        }

        .section-asset-round {
            // clip-path: polygon(0 0, 100% 0, 100% 0, 0 0);
            // clip-path: polygon(0 0, 0 0, 0 100%, 0 100%);
            opacity: 0;
            transform: translate(0, 6rem);
            // clip-path: polygon(0 10%, 100% 10%, 100% 90%, 0 90%);
            clip-path: inset(25% 25% 25% 25% round 100%);
            transition: all 1s;

            img {
                scale: 1.1;
                transition: all 1s;
            }
        }

        section.observer-detected .section-asset-round {
            // clip-path: polygon(0 0, 100% 0, 100% 100%, 0 100%);
            opacity: 1;
            transform: translate(0, 0);
            clip-path: inset(0% 0% 0% 0% round 100%);

            img {
                scale: 1;
                transition: all 1s 0.3s;
            }
        }
}



/* Section Block | e.g. for Quotes or other elements where the content does not contain the standard section elements */
.section-block { 
    opacity: 0;
    transform: translate(0, 6rem);
    transition: opacity 1s 0.2s, transform 1s 0.2s;
}
section.observer-detected .section-block {
    opacity: 1;
    transform: translate(0, 0);
    transition: opacity 1s 0.2s, transform 1s 0.2s;
}

/* Section Block mobile Animation */
@media screen and (max-width: 999px) {
    .section-block.no-mobile-scroll-animation { 
        opacity: 1;
        transform: translate(0, 0);
    }
}



mark {
    --base-color: rgb(11 149 161);
    --color1: rgb(11 149 161);
    --color2: rgb(11 149 161);
    --bg-height: 70%;
        
    all: unset;
    background-image: linear-gradient(var(--color1), var(--color2));
    background-position: 0 100%;
    background-repeat: no-repeat;
    background-size: 0% var(--bg-height);
    animation: highlight 1800ms 240ms ease-out;
    animation-fill-mode: forwards;
    animation-play-state: paused;
}

section.observer-detected mark {
    animation-play-state: running;
}

mark.highlight {
    color: #fff !important;
    --color1: #007983;
    /* --color2: #047484; */
    --bg-height: 180%;
    background-image: linear-gradient(to right, var(--color1), var(--color2));
    background-size: 100% var(--bg-height);
    padding: 0px 6px;
    /* display: inline-block; */
    box-decoration-break: clone !important;
    -webkit-box-decoration-break: clone !important;
}

@keyframes highlight {
    to {
        background-size: 100% var(--bg-height);
    }
}











